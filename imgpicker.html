<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pemilih Gambar (Image Picker)</title>
  <style>
    :root{ --bg:#071129; --card:#0f172a; --accent:#00f5d4; --muted:#94a3b8 }
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(180deg,var(--bg),#081827);color:#e6eef8;-webkit-font-smoothing:antialiased}
    .wrap{max-width:820px;margin:36px auto;padding:20px}
    .panel{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:12px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
    h1{margin:0 0 6px;font-size:18px}
    p.lead{margin:0 0 16px;color:var(--muted);font-size:13px}

    label{display:block;margin-top:8px;font-weight:600;color:#dbeafe}
    select.input{width:100%;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}

    .preview{margin-top:16px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);overflow:hidden;background:#081827;display:flex;align-items:center;justify-content:center;min-height:260px}
    .preview img{max-width:100%;max-height:420px;display:block}

    .alert{margin-top:12px;padding:10px 12px;border-radius:8px;background:linear-gradient(90deg,rgba(0,245,212,0.06),rgba(124,58,237,0.03));border:1px solid rgba(0,245,212,0.08);color:#bffae3;display:none}
    .alert.show{display:block}

    .meta{margin-top:8px;color:var(--muted);font-size:13px}

    .row{display:flex;gap:12px;align-items:center}

    @media (max-width:640px){ .preview{min-height:180px} }
  </style>
</head>
<body>
  <main class="wrap">
    <div class="panel" role="main">
      <h1>Pilih Gambar</h1>
      <p class="lead">Pilih item dari dropdown untuk menampilkan gambar di area preview dan menampilkan nama file di kotak info.</p>

      <label for="imageSelect">Gambar</label>
      <select id="imageSelect" class="input" aria-label="Pilih gambar">
        <option value="" data-fname="">-- Pilih gambar --</option>
        <option value="1" data-fname="gambar-1.svg">Gambar 1 ‚Äî Laut</option>
        <option value="2" data-fname="gambar-2.svg">Gambar 2 ‚Äî Sunset</option>
        <option value="3" data-fname="gambar-3.svg">Gambar 3 ‚Äî Pegunungan</option>
        <option value="4" data-fname="gambar-4.svg">Gambar 4 ‚Äî Beruang</option>
        <option value="5" data-fname="gambar-5.svg">Gambar 5 ‚Äî Burung Pemakan Bangkai</option>
        <option value="6" data-fname="gambar-6.svg">Gambar 6 ‚Äî Doggy>
        <option value="7" data-fname="gambar-7.svg">Gambar 7 ‚Äî Air Terjun</option>
      </select>

      <div id="fileAlert" class="alert" role="status" aria-live="polite"></div>

      <div class="preview" id="previewArea" aria-live="polite">
        <div id="placeholder" style="text-align:center;color:var(--muted)">
          <div style="font-size:28px;margin-bottom:8px">üñºÔ∏è</div>
          <div>Pilih gambar dari dropdown untuk menampilkan preview.</div>
        </div>
        <img id="previewImg" alt="Preview" style="display:none" />
      </div>

      <div class="meta" id="metaText">Nama file: <strong id="metaFilename">-</strong></div>
    </div>
  </main>

  <script>
    (function(){
      const select = document.getElementById('imageSelect');
      const previewImg = document.getElementById('previewImg');
      const placeholder = document.getElementById('placeholder');
      const fileAlert = document.getElementById('fileAlert');
      const metaFilename = document.getElementById('metaFilename');
      const images = {
        '1': { src: 'https://picsum.photos/id/1015/1200/800', filename: 'gambar-1.jpg', alt: 'Sunset' },
        '2': { src: 'https://picsum.photos/id/1016/1200/800', filename: 'gambar-2.jpg', alt: 'Laut' },
        '3': { src: 'https://picsum.photos/id/1018/1200/800', filename: 'gambar-3.jpg', alt: 'Pegunungan' },
        '4': { src: 'https://picsum.photos/id/1020/1200/800', filename: 'gambar-4.jpg', alt: 'Kota' },
        '5': { src: 'https://picsum.photos/id/1024/1200/800', filename: 'gambar-5.jpg', alt: 'Hutan' },
        '6': { src: 'https://picsum.photos/id/1025/1200/800', filename: 'gambar-6.jpg', alt: 'Abstrak' },
        '7': { src: 'https://picsum.photos/id/1035/1200/800', filename: 'gambar-7.jpg', alt: 'Ikon' }
      };

      let alertTimer = null;

      function showAlert(text){
        if (alertTimer) { clearTimeout(alertTimer); alertTimer = null; }
        fileAlert.textContent = text;
        fileAlert.classList.add('show');
        alertTimer = setTimeout(() => { fileAlert.classList.remove('show'); alertTimer = null; }, 4000);
      }

      function updatePreview(){
        const val = select.value;
        if (!val || !images[val]) {
          previewImg.style.display = 'none';
          previewImg.src = '';
          previewImg.alt = '';
          placeholder.style.display = 'block';
          metaFilename.textContent = '-';
          return;
        }

        const info = images[val];
        previewImg.style.opacity = '0';
        previewImg.style.display = 'block';
        previewImg.alt = info.alt || info.filename;

        previewImg.onload = function(){
          placeholder.style.display = 'none';
          previewImg.style.transition = 'opacity 220ms ease-in';
          previewImg.style.opacity = '1';
          metaFilename.textContent = info.filename;
          showAlert('Nama file: ' + info.filename);
        };
        previewImg.onerror = function(){
          previewImg.style.display = 'none';
          previewImg.src = '';
          placeholder.style.display = 'block';
          metaFilename.textContent = '-';
          showAlert('Gagal memuat gambar.');
        };

        previewImg.src = info.src;
      }

      select.addEventListener('change', updatePreview);
      select.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') updatePreview(); });

      updatePreview();
    })();
  </script>
</body>
</html>